<app-spinner *ngIf="loading != false"></app-spinner>

<<<<<<< HEAD
<div class="total" *ngIf="project && loading == false">
  <div class="rows" *ngIf="project.tasks.length > 0">
    <div class="singlerow">
      <div class="left">
        <h3 class="pendingtitle">Pending Tasks</h3>
        <ul>
          <li class="list none" *ngIf="PendingTasks.length == 0">None</li>
          <li class="list pending" *ngFor="let el of PendingTasks">
            <span class="desc">{{ el.description }} </span>
            <span class="username">{{ el.user || "Not Assigned" }}</span>
            <div class="last">
              <span *ngIf="object.unique_name == el.userId">
                <button (click)="removeTask(el)">
                  <mdb-icon fas icon="user-slash"></mdb-icon></button
              ></span>
              <span *ngIf="object.unique_name != el.userId && el.userId != 0">
                Assigned</span
              >
              <span *ngIf="el.userId == 0">
                <button (click)="assignTask(el)">
                  <mdb-icon fas icon="plus"></mdb-icon></button
              ></span>
            </div>
          </li>
        </ul>
      </div>
      <ion-button class="anim" fill="outline" expand="block">
        <lottie-player
          slot="end"
          autoplay
          loop
          src="../../../../../assets/study.json"
        >
        </lottie-player>
      </ion-button>
    </div>

    <div class="singlerow">
      <div class="left">
        <h3 class="workingtitle">Working Tasks</h3>
        <ul>
          <li class="list none" *ngIf="WorkingTasks.length == 0">None</li>
          <li class="list working" *ngFor="let el of WorkingTasks">
            <span class="desc">{{ el.description }} </span>
            <span class="username">{{ el.user || "Not Assigned" }}</span>
            <div class="last"></div>
          </li>
        </ul>
      </div>
      <ion-button class="anim2" fill="outline" expand="block">
        <lottie-player
          slot="end"
          autoplay
          loop
          src="../../../../../assets/programming.json"
        >
        </lottie-player>
      </ion-button>
    </div>

    <div class="singlerow">
      <div class="left">
        <h3 class="reviewtitle">Reviewing Tasks</h3>
        <ul>
          <li class="list none" *ngIf="ReviewingTasks.length == 0">None</li>
          <li class="list review" *ngFor="let el of ReviewingTasks">
            <span class="desc">{{ el.description }} </span>
            <span class="username">{{ el.user || "Not Assigned" }}</span>
            <div class="last"></div>
          </li>
        </ul>
      </div>
      <ion-button class="anim3" fill="outline" expand="block">
        <lottie-player
          slot="end"
          autoplay
          loop
          src="../../../../../assets/review.json"
        >
        </lottie-player>
      </ion-button>
    </div>

    <div class="singlerow">
      <div class="left">
        <h3 class="completetitle">Completed Tasks</h3>
        <ul>
          <li class="list none" *ngIf="CompletedTasks.length == 0">None</li>
          <li class="list complete" *ngFor="let el of CompletedTasks">
            <span class="desc">{{ el.description }} </span>
            <span class="username">{{ el.user || "Not Assigned" }}</span>
            <div class="last"></div>
          </li>
        </ul>
      </div>
      <ion-button class="anim4" fill="outline" expand="block">
        <lottie-player
          slot="end"
          autoplay
          loop
          src="../../../../../assets/complete.json"
        >
        </lottie-player>
      </ion-button>
    </div>
  </div>
</div>

<div *ngIf="project" class="nothing">
  <section *ngIf="project.tasks.length == 0" style="text-align: center">
    <div class="face">
      <div class="band">
        <div class="red"></div>
        <div class="white"></div>
        <div class="blue"></div>
      </div>
      <div class="eyes"></div>
      <div class="dimples"></div>
      <div class="mouth"></div>
    </div>

    <h1>Oops! No tasks(yet) for this project ! Wait a little bit</h1>
    <div (click)="goHome()" class="buttonwa">Return to Home</div>
  </section>
=======
<div *ngIf="project" class="col-lg-4 col-md-12 mb-4 container">
  <div class="view overlay rounded z-depth-1 waves-light" mdbWavesEffect>
    <img
      src="https://mdbootstrap.com/img/Photos/Others/project4.jpg"
      class="img-fluid"
      alt="Sample project image"
      style="cursor: default; width: 100%"
    />
    <a>
      <div class="mask rgba-white-slight"></div>
    </a>
  </div>

  <mdb-card-body class="mt-3">
    <h2 class="card-header-title title">{{ project.title }}</h2>
    <p class="grey-text" style="white-space: pre-line; padding: 5%">
      {{ project.description }}
    </p>
    <a
      (click)="scroll(target)"
      mdbBtn
      color="default"
      size="sm"
      class="waves-light"
      mdbWavesEffect
    >
      <mdb-icon far icon="clone" class="left"></mdb-icon> Check Tasks</a
    >
  </mdb-card-body>
</div>

<h3 *ngIf="loading == false" class="tasks">Tasks</h3>
<div #target>
  <table class="table" *ngIf="project" mdbTable>
    <thead>
      <tr>
        <th class="id">ID</th>
        <th
          class="importance importanceHead"
          (click)="sortByImportance(project.tasks)"
        >
          Description <mdb-icon fas icon="sort"></mdb-icon>
        </th>
        <th style="cursor: pointer" (click)="sortByCompleted(project.tasks)">
          Status <mdb-icon fas icon="sort"></mdb-icon>
        </th>
        <th style="cursor: pointer" (click)="sortByUser(project.tasks)">
          User <mdb-icon fas icon="sort"></mdb-icon>
        </th>
        <th style="cursor: pointer" (click)="sortByAssigned(project.tasks)">
          Take <mdb-icon fas icon="sort"></mdb-icon>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr mdbTableCol *ngFor="let el of project.tasks; let index = index">
        <td class="id" scope="row">
          {{ index + 1 }}
        </td>
        <td
          [ngClass]="{ important: el.importance, complete: el.status == 3 }"
          scope="row"
        >
          {{ el.description }}
        </td>
        <td [ngSwitch]="el.status">
          <span *ngSwitchCase="0">Pending</span
          ><span *ngSwitchCase="1">Working</span
          ><span *ngSwitchCase="2">Reviewing</span
          ><span *ngSwitchCase="3">Completed</span>
          <span *ngSwitchDefault>Pending</span>
        </td>
        <td>{{ el.user || "Not Assigned" | titlecase }}</td>
        <td *ngIf="object.unique_name == el.userId">
          <button (click)="removeTask(el)">
            <mdb-icon fas icon="user-slash"></mdb-icon>
          </button>
        </td>
        <td
          *ngIf="object.unique_name != el.userId && el.userId != 0"
          class="id"
          scope="row"
        >
          Assigned
        </td>
        <td *ngIf="el.userId == 0">
          <button (click)="assignTask(el)">
            <mdb-icon fas icon="plus"></mdb-icon>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div *ngIf="project" style="text-align: center">
  <button
    *ngIf="project.tasks.length == 0"
    style="cursor: default"
    class="special"
    mdbBtn
    type="button"
    gradient="peach"
    rounded="true"
    mdbWavesEffect
  >
    No Tasks
  </button>
>>>>>>> master
</div>
